---
name: gc
description: 快速创建规范的git提交，自动按文件路径分组并生成标准提交信息
---

# Git Commit 快速命令

## 命令用途
快速创建符合项目规范的 git commit，自动分析修改文件并生成标准化提交信息。

## 使用方式
```
/gc [可选提交信息]
```

## 参数说明
- `[提交信息]`: 可选，如果不提供则自动生成

## 执行流程

### 1. 分析修改
```bash
git status --short  # 查看未暂存文件
git diff --name-only # 查看已修改文件
```

### 2. 智能分组
按以下规则自动分组：
- `ep{NN}/**` → ep{NN}组（例如：ep18、ep21）
- `docs/**` → docs组
- `tests/**` 或 `**/test/**/*.java` → test组
- `.claude/**` → config组
- 其他 → 根目录组

### 3. 生成提交信息
遵循项目规范：
```
[type](scope): description
```

**类型 (type)**:
- `feat` - 新功能
- `fix` - 修复bug
- `docs` - 文档变更
- `refactor` - 代码重构
- `test` - 测试相关
- `chore` - 构建/工具/配置

**作用域 (scope)**:
- EP编号：`ep18`, `ep21`, `ep18r`, `ep20` 等
- 模块名：`vm`, `ir`, `cfg`, `ssa` 等

### 4. 分主题提交
每个分组独立提交，确保每次提交聚焦单一主题。

## 示例

### 示例1: 无参数自动提交
```
/gc
```
**执行结果**:
- 分析所有修改文件
- 自动分组并生成提交信息
- 逐个提交每个分组

### 示例2: 自定义提交信息
```
/gc feat(ep21): 实现SSA优化Pass
```
**执行结果**:
- 将所有修改文件暂存
- 使用指定的提交信息
- 单次提交

## 最佳实践

1. **单主题提交**: 每次提交只包含一个主题的修改
2. **清晰的提交信息**: 使用 `type(scope): description` 格式
3. **避免大提交**: 单次提交建议不超过100行修改
4. **测试通过**: 提交前确保相关测试通过

## 注意事项
- 提交前会运行 `git status` 确认
- 禁止使用 `--amend` 除非明确要求
- 提交后会运行 `git log -1` 验证

---
