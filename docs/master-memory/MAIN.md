# ä¸»æ§ Agent è®°å¿† - é¡¹ç›®ç®¡ç†ä¸­æ¢

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**åˆ›å»ºæ—¥æœŸ**: 2025-12-21
**é‡æ„æ—¥æœŸ**: 2025-12-21
**è§’è‰²å®šä½**: ä»»åŠ¡è¯†åˆ«ã€åˆ†è§£ä¸åè°ƒ / å…¬å…±å·¥ä½œè®°å¿†ç»´æŠ¤

---

## ğŸ“Œ ä¸»æ§ Agent èŒè´£

### æ ¸å¿ƒèŒè´£

1. **ä»»åŠ¡ç»“æ„è¯†åˆ«ä¸åˆ†è§£**
   - è¯†åˆ«ç”¨æˆ·è¯·æ±‚çš„æ„å›¾å’ŒèŒƒå›´
   - å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„å­ä»»åŠ¡
   - ç¡®å®šä»»åŠ¡ä¾èµ–å…³ç³»å’Œæ‰§è¡Œé¡ºåº

2. **Sub-Agent è§„åˆ’ä¸åè°ƒ**
   - æ ¹æ®ä»»åŠ¡ç±»å‹åˆ›å»ºä¸“ç”¨ Sub-Agent
   - åˆ†é…æ˜ç¡®çš„ä»»åŠ¡èŒƒå›´å’Œäº¤ä»˜ç‰©
   - ç›‘æ§ Sub-Agent æ‰§è¡Œè¿›åº¦

3. **å…¬å…±å·¥ä½œè®°å¿†ç»´æŠ¤**
   - ç»´æŠ¤æ‰€æœ‰ Agent å¯è®¿é—®çš„å…±äº«çŠ¶æ€
   - è®°å½•å…³é”®å†³ç­–å’Œè®¾è®¡é€‰æ‹©
   - åŒæ­¥è·¨ Agent çš„ä¸Šä¸‹æ–‡ä¿¡æ¯

---

## ğŸ“Š EP é¡¹ç›®å…³ç³»å›¾è°±

### EP æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EP1-EP21 æ¸è¿›å¼æ¶æ„                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EP1-EP10     â”‚   â”‚  EP11-EP20  â”‚   â”‚     EP21      â”‚
â”‚  åŸºç¡€é˜¶æ®µ      â”‚   â”‚  ç¼–è¯‘å™¨æ ¸å¿ƒ  â”‚   â”‚  é«˜çº§ä¼˜åŒ–     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ è¯æ³•åˆ†æ     â”‚   â”‚ â€¢ ç±»å‹ç³»ç»Ÿ   â”‚   â”‚ â€¢ æ•°æ®æµåˆ†æ  â”‚
â”‚ â€¢ è¯­æ³•åˆ†æ     â”‚   â”‚ â€¢ ç¬¦å·è¡¨     â”‚   â”‚ â€¢ SSAå½¢å¼     â”‚
â”‚ â€¢ ASTæ„å»º      â”‚   â”‚ â€¢ è¯­ä¹‰åˆ†æ   â”‚   â”‚ â€¢ ä¼˜åŒ–ä¼ é€’    â”‚
â”‚ â€¢ è®¿é—®è€…æ¨¡å¼   â”‚   â”‚ â€¢ ä¸­é—´è¡¨ç¤º   â”‚   â”‚ â€¢ æ€§èƒ½è°ƒä¼˜    â”‚
â”‚ â€¢ è§£é‡Šå™¨       â”‚   â”‚ â€¢ æ§åˆ¶æµå›¾   â”‚   â”‚               â”‚
â”‚               â”‚   â”‚ â€¢ ä»£ç ç”Ÿæˆ   â”‚   â”‚               â”‚
â”‚               â”‚   â”‚ â€¢ è™šæ‹Ÿæœº     â”‚   â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘                   â†‘                   â†‘
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
            â”‚   EP18 (æ ˆVM) â”‚   â”‚  EP18R (å¯„å­˜å™¨VM) â”‚
            â”‚               â”‚   â”‚               â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### EP ä¾èµ–å…³ç³»

```mermaid
graph TD
    %% åŸºç¡€å±‚
    EP1[EP1: åŸºç¡€è¯­æ³•] --> EP2[EP2: è¡¨è¾¾å¼]
    EP2 --> EP3[EP3: å˜é‡å’Œä½œç”¨åŸŸ]
    EP3 --> EP4[EP4: å‡½æ•°è°ƒç”¨]
    EP4 --> EP5[EP5: æ§åˆ¶æµ]
    EP5 --> EP6[EP6: æ•°ç»„]
    EP6 --> EP7[EP7: ç»“æ„ä½“]
    EP7 --> EP8[EP8: ç±»å‹ç³»ç»Ÿ]
    EP8 --> EP9[EP9: ç¬¦å·è¡¨]
    EP9 --> EP10[EP10: è§£é‡Šå™¨]
    
    %% ç¼–è¯‘å™¨æ ¸å¿ƒå±‚
    EP10 --> EP11[EP11: ç±»å‹æ£€æŸ¥]
    EP11 --> EP12[EP12: ä¸­é—´è¡¨ç¤º]
    EP12 --> EP13[EP13: æ§åˆ¶æµå›¾]
    EP13 --> EP14[EP14: ä»£ç ä¼˜åŒ–]
    EP14 --> EP15[EP15: ä»£ç ç”Ÿæˆ]
    EP15 --> EP16[EP16: å­—èŠ‚ç ]
    EP16 --> EP17[EP17: æ±‡ç¼–å™¨]
    EP17 --> EP18[EP18: è™šæ‹Ÿæœº]
    
    %% é«˜çº§ä¼˜åŒ–å±‚
    EP18 --> EP19[EP19: è°ƒè¯•å™¨]
    EP19 --> EP20[EP20: å®Œæ•´ç¼–è¯‘å™¨]
    EP20 --> EP21[EP21: é«˜çº§ä¼˜åŒ–]
    
    %% ç‰¹æ®Šåˆ†æ”¯
    EP10 --> EP18R[EP18R: å¯„å­˜å™¨VM]
    EP17 --> EP18R
    
    classDef foundation fill:#E8F5E9,stroke:#388E3C
    classDef core fill:#FFF3E0,stroke:#F57C00
    classDef advanced fill:#E3F2FD,stroke:#1976D2
    classDef special fill:#FCE4EC,stroke:#C2185B
    
    class EP1,EP2,EP3,EP4,EP5,EP6,EP7,EP8,EP9,EP10 foundation
    class EP11,EP12,EP13,EP14,EP15,EP16,EP17,EP18,EP19,EP20 core
    class EP21 advanced
    class EP18R special
```

### EP æ ¸å¿ƒç‰¹æ€§é€ŸæŸ¥è¡¨

| EP èŒƒå›´ | æ ¸å¿ƒæ–‡ä»¶ | å…³é”®ç±» | æµ‹è¯•é‡ç‚¹ | æ–‡æ¡£ä½ç½® |
|---------|----------|--------|----------|----------|
| **EP1-EP10** | `CymbolBase*.g4`, `*Node.java` | `CymbolLexer`, `CymbolParser`, `EvalVisitor` | è¯­æ³•è§£æã€ASTæ„å»ºã€è§£é‡Šæ‰§è¡Œ | `docs/intro/` |
| **EP11-EP15** | `TypeChecker.java`, `SymbolTable.java` | `TypeChecker`, `SymbolTable`, `IRGenerator` | ç±»å‹æ£€æŸ¥ã€ç¬¦å·è§£æã€IRç”Ÿæˆ | `ep*/docs/` |
| **EP16-EP18** | `BytecodeEmitter.java`, `VMInterpreter.java` | `BytecodeEmitter`, `VMInterpreter`, `Instruction` | å­—èŠ‚ç ç”Ÿæˆã€VMæ‰§è¡Œã€å†…å­˜ç®¡ç† | `ep*/docs/` |
| **EP19-EP20** | `CodeGenerator.java`, `Optimizer.java` | `CodeGenerator`, `Optimizer`, `DataFlowAnalyzer` | ä»£ç ç”Ÿæˆã€ä¼˜åŒ–ã€è°ƒè¯• | `ep*/docs/` |
| **EP21** | `SSAConverter.java`, `OptimizationPass.java` | `SSAConverter`, `OptimizationPass`, `PhiFunction` | SSAè½¬æ¢ã€ä¼˜åŒ–ä¼ é€’ã€æ€§èƒ½åˆ†æ | `ep21/docs/` |
| **EP18R** | `RegisterVMInterpreter.java`, `Register*.java` | `RegisterVMInterpreter`, `RegisterFile`, `StackFrame` | å¯„å­˜å™¨æŒ‡ä»¤ã€è°ƒç”¨çº¦å®šã€ABI | `ep18r/docs/` |

---

## ğŸ› ï¸ å·¥å…·é“¾é€šç”¨ä¿¡æ¯

### æ ¸å¿ƒå·¥å…·é…ç½®

#### Maven æ„å»ºç³»ç»Ÿ
```xml
<!-- çˆ¶ POM å…³é”®é…ç½® -->
<properties>
    <maven.compiler.source>21</maven.compiler.source>
    <maven.compiler.target>21</maven.compiler.target>
    <antlr4.version>4.13.2</antlr4.version>
    <junit.version>5.11.3</junit.version>
    <assertj.version>3.27.0</assertj.version>
</properties>
```

#### æµ‹è¯•æ¡†æ¶
```xml
<!-- æ ‡å‡†æµ‹è¯•ä¾èµ–é…ç½® -->
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter-api</artifactId>
    <version>5.11.3</version>
    <scope>test</scope>
</dependency>
<dependency>
    <groupId>org.assertj</groupId>
    <artifactId>assertj-core</artifactId>
    <version>3.27.0</version>
    <scope>test</scope>
</dependency>
```

### å¹³å°è„šæœ¬

```
scripts/
â”œâ”€â”€ run.sh          # Linux/macOS
â”œâ”€â”€ run.ps1         # Windows PowerShell
â””â”€â”€ run.bat         # Windows CMD

æ”¯æŒå‘½ä»¤: compile, test, run, debug, coverage
```

---

## ğŸ§  å·¥ä½œè®°å¿†ç®¡ç†ç­–ç•¥

### è®°å¿†åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ä¸»æ§ Agent è®°å¿†å±‚ (æœ¬æ–‡ä»¶)        â”‚
â”‚  - EP å…³ç³»å›¾è°±                          â”‚
â”‚  - å·¥å…·é“¾é€šç”¨ä¿¡æ¯                        â”‚
â”‚  - é¡¹ç›®æ•´ä½“æ¶æ„                         â”‚
â”‚  - è·¨ EP ä¾èµ–å…³ç³»                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       å½“å‰ EP è®°å¿†å±‚ (åŠ¨æ€åŠ è½½)          â”‚
â”‚  - EP ä¸“ç”¨ç›®å½•ç»“æ„                       â”‚
â”‚  - å…³é”®ç±»å’Œæ¥å£å®šä¹‰                      â”‚
â”‚  - ä»»åŠ¡è§„èŒƒå’Œæ ‡å‡†                        â”‚
â”‚  - å½“å‰å·¥ä½œä¸Šä¸‹æ–‡                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Sub-Agent å·¥ä½œè®°å¿† (ä»»åŠ¡éš”ç¦»)      â”‚
â”‚  - å…·ä½“ä»»åŠ¡å®ç°ç»†èŠ‚                      â”‚
â”‚  - ä¸´æ—¶è°ƒè¯•ä¿¡æ¯                         â”‚
â”‚  - å±€éƒ¨ä»£ç å˜æ›´                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠ¨æ€ä¸Šä¸‹æ–‡é€‰æ‹©æœºåˆ¶

#### åŠ è½½ç­–ç•¥ï¼šæŒ‰éœ€æ¸è¿›åŠ è½½

```java
/**
 * å·¥ä½œè®°å¿†ä¸Šä¸‹æ–‡ç®¡ç†å™¨
 */
public class WorkingMemoryManager {
    private String currentEP;
    private Map<String, EPContext> epContexts;
    private Set<String> loadedContexts;
    
    /**
     * æ ¹æ®å½“å‰ EP åŠ è½½å¿…è¦ä¸Šä¸‹æ–‡
     */
    public void loadEPContext(String epName) {
        if (loadedContexts.contains(epName)) {
            return; // å·²åŠ è½½ï¼Œè·³è¿‡
        }
        
        // åŠ è½½ EP ä¸“å±è®°å¿†
        EPContext context = epContexts.get(epName);
        if (context != null) {
            loadToWorkingMemory(context);
            loadedContexts.add(epName);
            log("å·²åŠ è½½ %s ä¸Šä¸‹æ–‡", epName);
        }
    }
    
    /**
     * æ ¹æ®ä»»åŠ¡ç±»å‹åŠ è½½ç›¸å…³ Skill
     */
    public void loadTaskSpecificSkills(String taskType) {
        switch (taskType) {
            case "æ–‡æ¡£ç¼–å†™":
                loadSkill("æŠ€æœ¯æ–‡æ¡£ç¼–å†™ä¸é‡æ„");
                break;
            case "æµ‹è¯•å¼€å‘":
                loadSkill("æµ‹è¯•æ¡†æ¶è§„èŒƒ");
                break;
            case "TDDé‡æ„":
                loadSkill("TDDå¼€å‘æµç¨‹");
                break;
            case "ä»£ç åˆ†æ":
                loadSkill("CCLSPä½¿ç”¨æŒ‡å—");
                break;
        }
    }
}
```

#### ä¸Šä¸‹æ–‡é€‰æ‹©è§¦å‘æ¡ä»¶

| è§¦å‘æ¡ä»¶ | åŠ è½½å†…å®¹ | ç›®çš„ |
|----------|----------|------|
| ç”¨æˆ·æŒ‡å®š EP "åœ¨ ep18 ä¸­..." | ep18 ä¸“å±è®°å¿† + åŸºç¡€å·¥å…·é“¾ | å¿«é€Ÿè¿›å…¥å·¥ä½œçŠ¶æ€ |
| è·¨ EP ä»»åŠ¡ "æ¯”è¾ƒ ep18 å’Œ ep18r..." | ep18 + ep18r è®°å¿† | æ”¯æŒå¯¹æ¯”åˆ†æ |
| æ–‡æ¡£ç¼–å†™ä»»åŠ¡ "ç¼–å†™è§„èŒƒæ–‡æ¡£..." | æŠ€æœ¯æ–‡æ¡£ç¼–å†™ Skill | æä¾›ä¸“ä¸šæŒ‡å¯¼ |
| æµ‹è¯•ä»»åŠ¡ "ç¼–å†™æµ‹è¯•ç”¨ä¾‹..." | æµ‹è¯•æ¡†æ¶ Skill | ç¡®ä¿æµ‹è¯•è§„èŒƒ |
| ä¸Šä¸‹æ–‡æº¢å‡ºè­¦å‘Š | æ¸…ç†æ—§ä¸Šä¸‹æ–‡ï¼ŒåŠ è½½æ–°ä¸Šä¸‹æ–‡ | é¿å…å†…å­˜æº¢å‡º |

---

## ğŸ¤– Sub-Agent åˆ›å»ºä¸åè°ƒ

### Sub-Agent åˆ†ç±»ä½“ç³»

#### 1. æŠ€æœ¯ä¸“é•¿çŸ­è¯­ Agent

| Agent ç±»å‹ | ä¸“é•¿é¢†åŸŸ | é€‚ç”¨åœºæ™¯ | è¾“å…¥è¦æ±‚ |
|------------|----------|----------|----------|
| **æ–‡æ¡£ç¼–å†™ Agent** | æŠ€æœ¯æ–‡æ¡£ã€è§„èŒƒã€è®¾è®¡æ–‡æ¡£ | åˆ›å»º/é‡æ„æ–‡æ¡£ | æ˜ç¡®æ–‡æ¡£ç±»å‹å’ŒèŒƒå›´ |
| **æµ‹è¯•å¼€å‘ Agent** | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€TDD | æµ‹è¯•ç”¨ä¾‹ç¼–å†™ | è¢«æµ‹åŠŸèƒ½è¯´æ˜ |
| **è°ƒè¯•è¯Šæ–­ Agent** | é—®é¢˜å®šä½ã€é”™è¯¯åˆ†æ | å¤æ‚ Bug ä¿®å¤ | é”™è¯¯ç°è±¡å’Œæ—¥å¿— |
| **æ¶æ„è®¾è®¡ Agent** | æ¨¡å—è®¾è®¡ã€æ¥å£å®šä¹‰ | æ–°åŠŸèƒ½è®¾è®¡ | éœ€æ±‚å’Œçº¦æŸ |
| **é‡æ„ä¼˜åŒ– Agent** | ä»£ç é‡æ„ã€æ€§èƒ½ä¼˜åŒ– | æŠ€æœ¯å€ºåŠ¡æ¸…ç† | é‡æ„ç›®æ ‡å’Œæ ‡å‡† |

#### 2. EP ä¸“å± Agent

| EP èŒƒå›´ | Agent ç±»å‹ | æ ¸å¿ƒèƒ½åŠ› | å…¸å‹ä»»åŠ¡ |
|---------|------------|----------|----------|
| **EP1-EP10** | åŸºç¡€å¼€å‘ Agent | è¯­æ³•/AST å¼€å‘ | æ–°å¢è¯­æ³•ç‰¹æ€§ |
| **EP11-EP20** | ç¼–è¯‘å™¨æ ¸å¿ƒ Agent | ç±»å‹/IR/ä¼˜åŒ– | ç¼–è¯‘å™¨åŠŸèƒ½å®ç° |
| **EP21** | é«˜çº§ä¼˜åŒ– Agent | SSA/æ•°æ®æµåˆ†æ | ä¼˜åŒ–ç®—æ³•å®ç° |
| **EP18R** | å¯„å­˜å™¨ VM Agent | ABI/è°ƒç”¨çº¦å®š | VM åŠŸèƒ½æ‰©å±• |

### Sub-Agent åˆ›å»ºæ¨¡æ¿

#### æ¨¡æ¿ 1ï¼šæ–‡æ¡£ç¼–å†™ Agent
```yaml
agent_type: documentation-writer
name: "{EP}_{æ–‡æ¡£ç±»å‹}_ç¼–å†™Agent"
specialty: "æŠ€æœ¯æ–‡æ¡£ç¼–å†™"

è¾“å…¥:
  - æ–‡æ¡£ç±»å‹: "è§„èŒƒ|è®¾è®¡|TDDè®¡åˆ’"
  - ä¸»é¢˜èŒƒå›´: "å…·ä½“æ¨¡å—æˆ–åŠŸèƒ½"
  - å‚è€ƒæ–‡æ¡£: "ç›¸å…³æŠ€æœ¯èµ„æ–™"
  - äº¤ä»˜æ ‡å‡†: "è´¨é‡è¦æ±‚"

ä»»åŠ¡:
  1. é˜…è¯»ç›¸å…³è§„èŒƒå’Œè®¾è®¡æ–‡æ¡£
  2. æŒ‰ç…§æ ‡å‡†ç»“æ„ç¼–å†™æ–‡æ¡£
  3. å¡«å……æŠ€æœ¯ç»†èŠ‚å’Œç¤ºä¾‹
  4. è‡ªæˆ‘éªŒè¯å®Œæ•´æ€§
  5. æäº¤å®¡æ ¸

èµ„æº:
  - Skill: "æŠ€æœ¯æ–‡æ¡£ç¼–å†™ä¸é‡æ„"
  - æ¨¡æ¿: "docs/templates/"
  - ç¤ºä¾‹: "åŒç±»ä¼˜ç§€æ–‡æ¡£"
```

#### æ¨¡æ¿ 2ï¼šæµ‹è¯•å¼€å‘ Agent
```yaml
agent_type: test-developer
name: "{EP}_æµ‹è¯•å¼€å‘Agent"
specialty: "æµ‹è¯•ç”¨ä¾‹è®¾è®¡å’Œå®ç°"

è¾“å…¥:
  - è¢«æµ‹åŠŸèƒ½: "å…·ä½“åŠŸèƒ½æè¿°"
  - æµ‹è¯•èŒƒå›´: "å•å…ƒ|é›†æˆ|E2E"
  - è¦†ç›–ç‡è¦æ±‚: "è¦†ç›–ç‡ç›®æ ‡"
  - æµ‹è¯•æ•°æ®: "æµ‹è¯•ç”¨ä¾‹"

ä»»åŠ¡:
  1. åˆ†æè¢«æµ‹åŠŸèƒ½çš„æµ‹è¯•éœ€æ±‚
  2. è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼ˆè¾¹ç•Œã€æ­£å¸¸ã€å¼‚å¸¸ï¼‰
  3. ç¼–å†™æµ‹è¯•ä»£ç ï¼ˆJUnit 5 + AssertJï¼‰
  4. éªŒè¯æµ‹è¯•è¦†ç›–ç‡å’Œé€šè¿‡ç‡
  5. æäº¤æµ‹è¯•æŠ¥å‘Š

èµ„æº:
  - Skill: "æµ‹è¯•æ¡†æ¶è§„èŒƒ"
  - æµ‹è¯•æ•°æ®: "test-data/"
  - è¦†ç›–ç‡å·¥å…·: "JaCoCo"
```

#### æ¨¡æ¿ 3: TDD é‡æ„ Agent
```yaml
agent_type: tdd-refactoring
name: "{EP}_TDDé‡æ„Agent"
specialty: "TDDå¼€å‘æµç¨‹å’Œé‡æ„ç­–ç•¥"

è¾“å…¥:
  - é‡æ„ç›®æ ‡: "å…·ä½“é‡æ„èŒƒå›´"
  - æŠ€æœ¯å€ºåŠ¡: "éœ€è¦æ¸…ç†çš„é—®é¢˜"
  - è§„èŒƒè¦æ±‚: "éœ€è¦éµå¾ªçš„è§„èŒƒ"
  - æ€§èƒ½ç›®æ ‡: "æ€§èƒ½æŒ‡æ ‡"

ä»»åŠ¡:
  1. è®¾è®¡ TDD ä»»åŠ¡åˆ†è§£è¡¨
  2. ç¼–å†™å¤±è´¥æµ‹è¯•ï¼ˆçº¢ï¼‰
  3. å®ç°æœ€å°åŠŸèƒ½ï¼ˆç»¿ï¼‰
  4. é‡æ„ä»£ç ï¼ˆé‡æ„ï¼‰
  5. æ›´æ–°æ–‡æ¡£å’ŒçŠ¶æ€

èµ„æº:
  - Skill: "TDDå¼€å‘æµç¨‹"
  - å‚è€ƒè®¡åˆ’: "TDDé‡æ„è®¡åˆ’æ¨¡æ¿"
  - æµ‹è¯•å·¥å…·: "JUnit 5, Mockito"
```

### Sub-Agent åè°ƒæœºåˆ¶

#### ç”Ÿå‘½å‘¨æœŸç®¡ç†

```
åˆ›å»ºé˜¶æ®µ:
1. ä»»åŠ¡åˆ†æ â†’ ç¡®å®š Agent ç±»å‹
2. åŠ è½½ç›¸å…³ Skill â†’ æä¾›ä¸“ä¸šèƒ½åŠ›
3. åŠ è½½ EP ä¸Šä¸‹æ–‡ â†’ æä¾›èƒŒæ™¯çŸ¥è¯†
4. ç”Ÿæˆä»»åŠ¡è¯´æ˜ â†’ æ˜ç¡®ç›®æ ‡å’Œäº¤ä»˜ç‰©
5. Fork Sub-Agent â†’ å¯åŠ¨æ‰§è¡Œ

æ‰§è¡Œé˜¶æ®µ:
1. Sub-Agent ç‹¬ç«‹å·¥ä½œ
2. å®šæœŸæŠ¥å‘Šè¿›åº¦ â†’ å…¬å…±å·¥ä½œè®°å¿†
3. é‡åˆ°é—®é¢˜ â†’ åé¦ˆä¸»æ§ Agent
4. é˜»å¡ä»»åŠ¡ â†’ è¯·æ±‚åè°ƒæ”¯æŒ

å®Œæˆé˜¶æ®µ:
1. æäº¤äº¤ä»˜ç‰© â†’ éªŒè¯è´¨é‡
2. æ›´æ–°å…¬å…±è®°å¿† â†’ è®°å½•æˆæœ
3. æŠ¥å‘Šç»éªŒæ•™è®­ â†’ çŸ¥è¯†ç§¯ç´¯
4. å…³é—­ Agent â†’ é‡Šæ”¾èµ„æº
```

#### çŠ¶æ€åŒæ­¥åè®®

```java
/**
 * å…¬å…±å·¥ä½œè®°å¿†æ›´æ–°æ¥å£
 */
public interface SharedMemory {
    /**
     * Agent æŠ¥å‘Šè¿›åº¦
     */
    void reportProgress(String agentId, TaskProgress progress);
    
    /**
     * Agent æäº¤äº¤ä»˜ç‰©
     */
    void submitDeliverable(String agentId, Deliverable deliverable);
    
    /**
     * è·å–å…¨å±€çŠ¶æ€
     */
    ProjectState getProjectState();
    
    /**
     * è®°å½•å…³é”®å†³ç­–
     */
    void recordDecision(String decision, String rationale);
}
```

---

## ğŸ“‹ ä¸»æ§ Agent å·¥ä½œæµç¨‹

### æ¥æ”¶ä»»åŠ¡è¯·æ±‚

```
ç”¨æˆ·è¯·æ±‚
    â†“
1. æ„å›¾è¯†åˆ«: ä»»åŠ¡ç±»å‹? (å¼€å‘/é‡æ„/è°ƒè¯•/æ–‡æ¡£)
2. èŒƒå›´è¯†åˆ«: æ¶‰åŠå“ªäº› EP?
3. å¤æ‚åº¦è¯„ä¼°: æ˜¯å¦éœ€è¦ Sub-Agent?
    â†“
å†³ç­–:
â€¢ ç®€å•ä»»åŠ¡ (< 2å°æ—¶) â†’ ç›´æ¥æ‰§è¡Œ
â€¢ å¤æ‚ä»»åŠ¡ (>= 2å°æ—¶) â†’ åˆ›å»º Sub-Agent
â€¢ è·¨ EP ä»»åŠ¡ â†’ å¤šä¸ª Sub-Agent + åè°ƒ
```

### ä»»åŠ¡åˆ†è§£ä¸åˆ†é…

```
å¤æ‚ä»»åŠ¡
    â†“
1. åˆ†è§£: ä»»åŠ¡ â†’ å­ä»»åŠ¡ â†’ äºŒçº§ä»»åŠ¡
2. è¯†åˆ«: ä»»åŠ¡ä¾èµ–å…³ç³»å’Œæ‰§è¡Œé¡ºåº
3. åˆ†é…: ä¸ºæ¯ä¸ªå­ä»»åŠ¡åˆ›å»º Sub-Agent
4. åè°ƒ: ç®¡ç†ä¾èµ–å’ŒåŒæ­¥ç‚¹
    â†“
ç›‘æ§æ‰§è¡Œ:
â€¢ è·Ÿè¸ªæ¯ä¸ª Agent çš„è¿›åº¦
â€¢ å¤„ç†é˜»å¡å’Œä¾èµ–é—®é¢˜
â€¢ æ•´åˆäº¤ä»˜ç‰©å’Œæˆæœ
```

### å…¬å…±è®°å¿†ç»´æŠ¤æµç¨‹

```
ä»»åŠ¡å¼€å§‹:
â€¢ åˆ›å»ºä»»åŠ¡è®°å½• (ID, æè¿°, è´Ÿè´£äºº, æˆªæ­¢æ—¥æœŸ)
â€¢ è®°å½•åˆå§‹çŠ¶æ€å’Œä¸Šä¸‹æ–‡

æ‰§è¡Œä¸­:
â€¢ å®šæœŸæ›´æ–°è¿›åº¦ (% å®Œæˆ, é‡åˆ°çš„é—®é¢˜)
â€¢ è®°å½•é‡è¦å†³ç­–å’Œç†ç”±
â€¢ æ›´æ–°é£é™©å’Œç¼“è§£æªæ–½

ä»»åŠ¡å®Œæˆ:
â€¢ è®°å½•æœ€ç»ˆçŠ¶æ€ (å·²å®Œæˆ/éƒ¨åˆ†å®Œæˆ/å¤±è´¥)
â€¢ æ€»ç»“äº¤ä»˜ç‰©å’Œæˆæœ
â€¢ å½’æ¡£ç»éªŒæ•™è®­å’Œæ”¹è¿›å»ºè®®
```

---

## ğŸ”§ å·¥å…·é›†æˆ

### Core Tools é…ç½®

```json
{
  "maven": {
    "command": "mvn",
    "options": ["-pl", "{ep}", "-am"],
    "goals": {
      "compile": "compile",
      "test": "test",
      "package": "package",
      "coverage": "jacoco:report"
    }
  },
  "cclsp": {
    "enabled": true,
    "servers": ["jdtls", "typescript-language-server", "pylsp"],
    "default": "jdtls"
  },
  "context7": {
    "enabled": true,
    "auto_record": true
  }
}
```

### MCP æœåŠ¡å™¨é›†æˆ

- **CCLSP**: Java/TypeScript/Python ä»£ç æ™ºèƒ½åˆ†æ
- **Context7**: ä¸Šä¸‹æ–‡ç®¡ç†å’Œå†å²è®°å½•
- **Compiler Development Skill**: ç¼–è¯‘å™¨å¼€å‘ä¸“ä¸šçŸ¥è¯†
- **æŠ€æœ¯æ–‡æ¡£ç¼–å†™ Skill**: æ–‡æ¡£ç¼–å†™è§„èŒƒå’Œæ ‡å‡†

---

## ğŸ“š çŸ¥è¯†åº“ç»“æ„

```
project-root/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ master-memory/          <-- ä¸»æ§ Agent è®°å¿†
â”‚   â”‚   â”œâ”€â”€ MAIN.md            <-- æœ¬æ–‡ä»¶ (EPå…³ç³»ã€å·¥å…·é“¾ã€åè°ƒæœºåˆ¶)
â”‚   â”‚   â”œâ”€â”€ EP_OVERVIEW.md     <-- EP å…³ç³»å›¾è°±
â”‚   â”‚   â””â”€â”€ SUB_AGENT_TEMPLATES/ <-- Sub-Agent æ¨¡æ¿
â”‚   â”œâ”€â”€ skills/                <-- ç‹¬ç«‹ Skill åº“
â”‚   â”‚   â”œâ”€â”€ æŠ€æœ¯æ–‡æ¡£ç¼–å†™ä¸é‡æ„.md
â”‚   â”‚   â”œâ”€â”€ æµ‹è¯•æ¡†æ¶è§„èŒƒ.md
â”‚   â”‚   â”œâ”€â”€ TDDå¼€å‘æµç¨‹.md
â”‚   â”‚   â””â”€â”€ CCLSPä½¿ç”¨æŒ‡å—.md
â”‚   â”œâ”€â”€ ep-memory/             <-- EP ä¸“å±è®°å¿†
â”‚   â”‚   â”œâ”€â”€ EP18.md
â”‚   â”‚   â”œâ”€â”€ EP18R.md
â”‚   â”‚   â”œâ”€â”€ EP21.md
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ episodes/              <-- EP è¯¦ç»†æ–‡æ¡£
â”‚       â”œâ”€â”€ introduction.md
â”‚       â””â”€â”€ ...
â”œâ”€â”€ ep*/                       <-- EP æ¨¡å—
â””â”€â”€ .claude/
    â””â”€â”€ cclsp.json            <-- CCLSP é…ç½®
```

---

## ğŸ“ ä¸»æ§ Agent ä½¿ç”¨æŒ‡å—

### å¯åŠ¨æ–°é¡¹ç›®å·¥ä½œ

**åœºæ™¯**: ç”¨æˆ·è¯´"åœ¨ ep18 ä¸­å®ç°åƒåœ¾å›æ”¶åŠŸèƒ½"

```
1. è¯†åˆ«æ„å›¾: å¼€å‘ä»»åŠ¡ï¼Œæ¶‰åŠ ep18
2. åŠ è½½ä¸Šä¸‹æ–‡:
   - åŠ è½½ä¸»æ§è®°å¿† (æœ¬æ–‡ä»¶)
   - åŠ è½½ ep18 ä¸“å±è®°å¿†
   - åŠ è½½ Compiler Development Skill
3. ä»»åŠ¡åˆ†è§£:
   - å­ä»»åŠ¡1: è°ƒç ” GC ç®—æ³•
   - å­ä»»åŠ¡2: è®¾è®¡ GC æ¥å£
   - å­ä»»åŠ¡3: å®ç° GC æ ¸å¿ƒ
   - å­ä»»åŠ¡4: é›†æˆåˆ° VM
   - å­ä»»åŠ¡5: ç¼–å†™æµ‹è¯•
4. åˆ›å»º Agent:
   - ä¸ºå­ä»»åŠ¡3 åˆ›å»º "ep18_GCå®ç°Agent"
   - ä¸ºå­ä»»åŠ¡4 åˆ›å»º "ep18_GCé›†æˆAgent"
   - ä¸ºå­ä»»åŠ¡5 åˆ›å»º "ep18_GCæµ‹è¯•Agent"
5. åè°ƒæ‰§è¡Œ:
   - ç›‘æ§è¿›åº¦
   - åŒæ­¥æ¥å£
   - æ•´åˆäº¤ä»˜ç‰©
```

### è·¨ EP é—®é¢˜åè°ƒ

**åœºæ™¯**: "æ¯”è¾ƒ ep18 å’Œ ep18r çš„ ABI è®¾è®¡å·®å¼‚"

```
1. è¯†åˆ«æ„å›¾: åˆ†æä»»åŠ¡ï¼Œè·¨ ep18 å’Œ ep18r
2. åŠ è½½ä¸Šä¸‹æ–‡:
   - åŠ è½½ä¸»æ§è®°å¿†
   - åŒæ—¶åŠ è½½ ep18 å’Œ ep18r è®°å¿†
   - åŠ è½½æŠ€æœ¯æ–‡æ¡£ç¼–å†™ Skill
3. åˆ†æä»»åŠ¡:
   - æ— éœ€åˆ›å»º Sub-Agent (ç®€å•åˆ†æ)
   - ç›´æ¥ä½¿ç”¨ grep å’Œ read å·¥å…·
   - æå– ABI ç›¸å…³è§„èŒƒæ–‡æ¡£
4. ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š:
   - ç»Ÿä¸€æ ¼å¼å‘ˆç°å·®å¼‚
   - æ€»ç»“è®¾è®¡å†³ç­–
5. æ›´æ–°è®°å¿†:
   - è®°å½•åˆ†æç»“æœ
```

### æ–‡æ¡£é‡æ„åè°ƒ

**åœºæ™¯**: "é‡æ„æ‰€æœ‰ EP çš„æ–‡æ¡£ï¼Œç»Ÿä¸€é£æ ¼"

```
1. è¯†åˆ«æ„å›¾: é‡æ„ä»»åŠ¡ï¼Œè·¨æ‰€æœ‰ EP
2. åŠ è½½ä¸Šä¸‹æ–‡:
   - åŠ è½½ä¸»æ§è®°å¿†
   - åŠ è½½æŠ€æœ¯æ–‡æ¡£ç¼–å†™ Skill
3. è¯†åˆ«å·¥ä½œèŒƒå›´:
   - å‘ç°æ‰€æœ‰ EP æ–‡æ¡£
   - åˆ†ç±»ï¼šè§„èŒƒ/è®¾è®¡/TDDè®¡åˆ’
4. æ‰¹é‡åˆ›å»º Agent:
   - ä¸ºæ¯ä¸ª EP åˆ›å»º "æ–‡æ¡£é‡æ„Agent"
   - å¹¶è¡Œæ‰§è¡Œä»»åŠ¡
5. ç›‘æ§å’ŒåŒæ­¥:
   - è·Ÿè¸ªæ¯ä¸ª EP çš„è¿›åº¦
   - ç¡®ä¿é£æ ¼ç»Ÿä¸€
   - æ•´åˆåˆ°æ€»ç´¢å¼•
```

---

**ç»´æŠ¤è¯´æ˜**: 
- ä¸»æ§ Agent è®°å¿†ç”±ä¸»æ§ Agent ç»´æŠ¤
- EP ä¸“å±è®°å¿†ç”±å„ EP è´Ÿè´£æ›´æ–°
- Skill åº“ç”±é¡¹ç›®æ¶æ„å¸ˆç»´æŠ¤
- å®šæœŸè¯„å®¡æœºåˆ¶ï¼šæ¯æœˆæ£€æŸ¥ä¸€æ¬¡å®Œæ•´æ€§å’Œå‡†ç¡®æ€§

**ç‰ˆæœ¬**: v2.0 (é‡æ„ç‰ˆæœ¬)
**æœ€åæ›´æ–°**: 2025-12-21
**çŠ¶æ€**: ä¸»æ§ Agent ä¸“ç”¨
