# 编译器构造课程大纲

## 课程基本信息

- **课程名称**：编译器构造与实践
- **课程代码**：CS4101
- **学分**：3学分
- **学时**：48学时（理论32 + 实验16）
- **先修课程**：数据结构、算法、Java编程、计算理论
- **适用专业**：计算机科学与技术、软件工程

## 课程目标

### 知识目标
1. 掌握编译器构造的基本原理和架构
2. 理解词法分析、语法分析、语义分析的理论基础
3. 掌握中间表示、优化和代码生成的关键技术
4. 了解现代编译器技术的发展趋势

### 能力目标
1. 能够使用ANTLR4构建词法分析器和语法分析器
2. 能够实现抽象语法树和符号表
3. 能够设计中间表示和控制流图
4. 能够实现基本的编译器优化
5. 能够生成目标代码

### 素质目标
1. 培养系统思维和工程能力
2. 提高问题分析和解决能力
3. 增强团队协作和沟通能力
4. 培养创新意识和实践能力

## 课程内容与安排

### 第一部分：编译器基础（16学时）

#### 第1周：编译器概述和ANTLR4入门
- **理论**：编译器结构、编译过程、ANTLR4简介
- **实验**：安装配置、Hello World语法
- **项目模块**：ep1, ep2

#### 第2周：词法分析和语法分析
- **理论**：正则表达式、有限自动机、上下文无关文法
- **实验**：数组初始化语法、表达式语法
- **项目模块**：ep3, ep4

#### 第3周：抽象语法树构建
- **理论**：AST设计、访问者模式、树遍历算法
- **实验**：Java语法解析、CSV解析器
- **项目模块**：ep5, ep6

#### 第4周：语义分析和符号表
- **理论**：类型系统、作用域、符号表管理
- **实验**：JSON解析器、向量数学语法
- **项目模块**：ep7, ep8, ep9

### 第二部分：编译器核心（20学时）

#### 第5周：类型检查和错误处理
- **理论**：类型推导、类型检查算法、错误恢复
- **实验**：CSV完整解析、数学表达式类型检查
- **项目模块**：ep10, ep11

#### 第6周：中间表示生成
- **理论**：三地址码、SSA形式、IR设计原则
- **实验**：符号表实现、三地址码生成
- **项目模块**：ep12, ep13

#### 第7周：控制流分析
- **理论**：基本块、控制流图、支配关系
- **实验**：AST到IR转换、基本块划分
- **项目模块**：ep14, ep15

#### 第8周：数据流分析
- **理论**：活性分析、到达定义分析、可用表达式分析
- **实验**：控制流图构建、活性分析实现
- **项目模块**：ep16, ep17

#### 第9周：代码优化
- **理论**：常量传播、死代码消除、循环优化
- **实验**：到达定义分析、常量传播优化
- **项目模块**：ep18, ep19

#### 第10周：代码生成
- **理论**：指令选择、寄存器分配、栈式虚拟机
- **实验**：循环优化、虚拟机代码生成
- **项目模块**：ep20, ep21

### 第三部分：项目实践（12学时）

#### 第11周：项目集成和测试
- **理论**：软件测试、性能分析、调试技术
- **实验**：完整编译器集成、单元测试编写
- **项目**：集成所有模块

#### 第12周：性能优化和扩展
- **理论**：编译器优化策略、扩展性设计
- **实验**：性能测试、功能扩展
- **项目**：优化和扩展编译器

#### 第13周：项目展示和评审
- **项目展示**：小组项目演示
- **代码评审**：代码质量评估
- **经验分享**：学习心得交流

#### 第14周：复习和考试
- **课程复习**：重点知识回顾
- **期末考试**：理论考试
- **项目验收**：最终项目提交

## 实验安排

### 实验环境
- **操作系统**：Windows/Linux/macOS
- **开发工具**：IntelliJ IDEA/VSCode
- **构建工具**：Maven/Gradle
- **版本控制**：Git

### 实验项目
1. **实验1**：ANTLR4基础语法（2学时）
2. **实验2**：表达式解析器（2学时）
3. **实验3**：抽象语法树构建（2学时）
4. **实验4**：符号表实现（2学时）
5. **实验5**：三地址码生成（2学时）
6. **实验6**：控制流图构建（2学时）
7. **实验7**：编译器优化（2学时）
8. **实验8**：完整编译器（2学时）

### 实验要求
1. 按时完成实验任务
2. 提交实验报告
3. 通过所有测试用例
4. 代码符合规范

## 考核方式

### 平时成绩（30%）
- **出勤**：10%
- **课堂表现**：10%
- **作业完成**：10%

### 实验成绩（40%）
- **实验报告**：20%
- **代码质量**：20%

### 期末成绩（30%）
- **期末考试**：15%
- **项目验收**：15%

### 评分标准
- **优秀（90-100）**：全面掌握知识，独立完成项目，代码质量高
- **良好（80-89）**：较好掌握知识，基本完成项目，代码质量较好
- **中等（70-79）**：掌握主要知识，完成主要功能，代码质量一般
- **及格（60-69）**：掌握基本知识，完成基本功能，代码质量合格
- **不及格（<60）**：未掌握基本知识，未完成基本功能

## 教学资源

### 教材
1. **主教材**：《编译原理》（龙书），Alfred V. Aho等
2. **参考教材**：《Engineering a Compiler》，Keith Cooper等
3. **实践教材**：本项目文档和代码

### 在线资源
1. **项目仓库**：https://github.com/your-repo/How_to_implement_PL_in_Antlr4
2. **ANTLR4文档**：https://github.com/antlr/antlr4
3. **Java文档**：https://docs.oracle.com/javase/

### 工具软件
1. **开发工具**：IntelliJ IDEA Community Edition
2. **构建工具**：Apache Maven 3.6+
3. **版本控制**：Git 2.30+
4. **测试工具**：JUnit 5, JaCoCo

## 教学团队

### 主讲教师
- **姓名**：[教师姓名]
- **职称**：[职称]
- **研究方向**：编译技术、程序分析
- **联系方式**：[邮箱]

### 助教团队
- **助教1**：[姓名]，负责实验指导
- **助教2**：[姓名]，负责作业批改
- **助教3**：[姓名]，负责项目评审

## 学术诚信

### 基本原则
1. 独立完成作业和实验
2. 引用他人成果需注明出处
3. 不得抄袭他人代码
4. 不得代写代考

### 违规处理
1. **第一次违规**：警告，作业/实验零分
2. **第二次违规**：严重警告，课程成绩降级
3. **第三次违规**：取消考试资格，成绩不及格

## 课程特色

### 1. 理论与实践结合
- 每个理论知识点都有对应的实践项目
- 项目代码来自真实编译器实现
- 实验设计贴近工业实践

### 2. 渐进式学习
- 21个模块从简单到复杂
- 每个模块都有明确的学习目标
- 逐步构建完整编译器

### 3. 现代化技术栈
- 使用Java 21最新特性
- 采用ANTLR4最新版本
- 遵循现代软件开发实践

### 4. 丰富教学资源
- 详细的文档和注释
- 完善的测试用例
- 可视化工具支持

## 学习建议

### 给学生的建议
1. **提前预习**：课前阅读相关材料
2. **积极参与**：课堂讨论和实验
3. **及时复习**：课后巩固知识点
4. **多写代码**：通过实践加深理解
5. **团队协作**：与同学交流学习

### 给教师的建议
1. **因材施教**：根据学生基础调整教学进度
2. **案例教学**：通过实际案例讲解理论
3. **互动教学**：鼓励学生提问和讨论
4. **及时反馈**：快速批改作业和实验
5. **持续改进**：根据反馈优化教学内容

## 课程发展计划

### 短期计划（1年）
1. 完善课程材料和实验指导
2. 开发在线学习平台
3. 建立学生社区

### 中期计划（2-3年）
1. 出版配套教材
2. 开展MOOC课程
3. 建立产学研合作

### 长期计划（3-5年）
1. 成为国家级精品课程
2. 建立编译器实验室
3. 培养编译器专业人才

---

**课程负责人**：[姓名]
**制定日期**：2025年12月
**版本**：1.0