# EP18R å¯è§†åŒ–æ¨¡å— (vizvmr) ä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

vizvmr æ˜¯ä¸€ä¸ªä¸º EP18R å¯„å­˜å™¨è™šæ‹Ÿæœºæä¾›çš„å®æ—¶å›¾å½¢åŒ–å¯è§†åŒ–å·¥å…·ã€‚é€šè¿‡æ­¤å·¥å…·ï¼Œæ‚¨å¯ä»¥ï¼š

- **å®æ—¶ç›‘æ§**å¯„å­˜å™¨ã€å†…å­˜ã€è°ƒç”¨æ ˆçš„æ‰§è¡ŒçŠ¶æ€
- **äº¤äº’å¼è°ƒè¯•**ï¼šå•æ­¥æ‰§è¡Œã€æ–­ç‚¹è®¾ç½®ã€æš‚åœ/ç»§ç»­
- **è®°å½•å›æ”¾**ï¼šæ’¤é”€/é‡åšæ‰§è¡Œå†å²
- **ä»£ç åæ±‡ç¼–**ï¼šæŸ¥çœ‹åæ±‡ç¼–ä»£ç å¹¶é«˜äº®å½“å‰æ‰§è¡Œä½ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

| é¡¹ç›® | æœ€ä½è¦æ±‚ | æ¨èé…ç½® |
|------|----------|----------|
| **Javaç‰ˆæœ¬** | JDK 21+ | JDK 21 |
| **Maven** | 3.8+ | 3.9+ |
| **å†…å­˜** | 512MB | 1GB |
| **å±å¹•åˆ†è¾¨ç‡** | 1024Ã—768 | 1280Ã—1024 |

### 2. ç¼–è¯‘å’Œè¿è¡Œ

```bash
# è¿›å…¥ vizvmr æ¨¡å—
cd vizvmr

# ç¼–è¯‘
mvn clean compile

# è¿è¡Œå¯è§†åŒ–å·¥å…·
mvn exec:java -Dexec.mainClass="org.teachfx.antlr4.ep18r.vizvmr.VizVMRLauncher"
```

æˆ–è€…ï¼Œå¦‚æœæ‚¨å·²ç»ç¼–è¯‘äº†æ•´ä¸ªé¡¹ç›®ï¼š

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•
mvn clean install
cd vizvmr
java -jar target/vizvmr-1.0.0.jar
```

### 3. åŠ è½½è™šæ‹Ÿæœºä»£ç 

1. å¯åŠ¨ vizvmr åï¼Œç‚¹å‡»èœå•æ  **æ–‡ä»¶(F) â†’ æ‰“å¼€ä»£ç (O)...**
2. é€‰æ‹© `.vm` æˆ– `.vmr` æ ¼å¼çš„è™šæ‹Ÿæœºä»£ç æ–‡ä»¶
3. ä»£ç åŠ è½½æˆåŠŸåï¼Œç•Œé¢å°†æ˜¾ç¤ºï¼š
   - åæ±‡ç¼–ä»£ç 
   - åˆå§‹å¯„å­˜å™¨çŠ¶æ€
   - å†…å­˜è§†å›¾
   - è°ƒç”¨æ ˆä¿¡æ¯

**ç¤ºä¾‹ä»£ç æ–‡ä»¶**ï¼š
```assembly
# factorial.vm - é˜¶ä¹˜è®¡ç®—ç¤ºä¾‹
main:
    li r1, 5          # r1 = 5 (è¾“å…¥)
    li r2, 1          # r2 = 1 (ç»“æœ)
    
loop:
    li r3, 1          # r3 = 1
    sub r1, r1, r3   # r1 = r1 - 1
    mul r2, r2, r1   # r2 = r2 * r1
    jlt r1, r3, loop # if r1 >= 1, jump to loop
    
    # r2 ç°åœ¨åŒ…å« 120 (5! = 120)
    halt
```

## ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢æŒ‡å—

### ä¸»çª—å£å¸ƒå±€

```
+-------------------------------------------------------+
| [èœå•æ ] æ–‡ä»¶  è§†å›¾  è¿è¡Œ  è°ƒè¯•  å¸®åŠ©            |
+-------------------------------------------------------+
| [å·¥å…·æ ] â–¶ â¸ â¹ â­  ğŸ” ğŸ’¾ ğŸ“Š            |
+-------------------+-----------------------------+
| [ä»£ç é¢æ¿]        | [å¯„å­˜å™¨é¢æ¿]             |
| PC: 0x004        | r0: 0x00000000 (0)        |
|   li r1, 100     | r1: 0x00000064 (100)      |
|   add r2, r1, r1 | r2: 0x000000c8 (200)      |
| ...              | ...                         |
|                   | r13: 0x00000000 (SP)       |
|                   | r14: 0x00000000 (FP)       |
|                   | r15: 0x00000000 (LR)       |
+-------------------+-----------------------------+
| [å†…å­˜é¢æ¿]        | [è°ƒç”¨æ ˆé¢æ¿]              |
| 0x0000: 0x1234  | Frame 0: main (PC=0x004)  |
| 0x0004: 0x5678  | Frame 1: func1 (PC=0x024) |
| ...              | ...                        |
+-------------------+-----------------------------+
| [çŠ¶æ€æ ] å·²æ‰§è¡Œ: 153 æŒ‡ä»¤ | è€—æ—¶: 0.45s | âœ…è¿è¡Œä¸­|
+-------------------------------------------------------+
```

### é¢æ¿è¯´æ˜

#### 1. ä»£ç é¢æ¿

æ˜¾ç¤ºåæ±‡ç¼–çš„æŒ‡ä»¤ä»£ç ï¼š
- **é»„è‰²é«˜äº®**ï¼šå½“å‰ PC ä½ç½®
- **çº¢è‰²åœ†ç‚¹**ï¼šå·²è®¾ç½®çš„æ–­ç‚¹
- **ç»¿è‰²èƒŒæ™¯**ï¼šå·²æ‰§è¡Œçš„æŒ‡ä»¤

**æ“ä½œ**ï¼š
- **å·¦é”®ç‚¹å‡»**ï¼šé€‰æ‹©æŒ‡ä»¤è¡Œ
- **å³é”®ç‚¹å‡»**ï¼šæŸ¥çœ‹ä¸Šä¸‹æ–‡èœå•ï¼ˆè·³è½¬ã€è®¾ç½®æ–­ç‚¹ï¼‰
- **åŒå‡»**ï¼šè®¾ç½®/æ¸…é™¤æ–­ç‚¹

#### 2. å¯„å­˜å™¨é¢æ¿

æ˜¾ç¤º 16 ä¸ªå¯„å­˜å™¨çš„å®æ—¶å€¼ï¼š
- **r0**ï¼šé›¶å¯„å­˜å™¨ï¼ˆæ’ä¸º0ï¼‰
- **r1-r10**ï¼šé€šç”¨å¯„å­˜å™¨
- **r13 (SP)**ï¼šæ ˆæŒ‡é’ˆ
- **r14 (FP)**ï¼šå¸§æŒ‡é’ˆ
- **r15 (LR)**ï¼šé“¾æ¥å¯„å­˜å™¨ï¼ˆè¿”å›åœ°å€ï¼‰

**æ˜¾ç¤ºæ ¼å¼**ï¼š
- åå…­è¿›åˆ¶ï¼š`0x00000064`
- åè¿›åˆ¶ï¼š`(100)`

**æ“ä½œ**ï¼š
- åŒå‡»ä¿®æ”¹å¯„å­˜å™¨å€¼
- å³é”®æŸ¥çœ‹ä¿®æ”¹å†å²ï¼ˆå¾…å®ç°ï¼‰

#### 3. å†…å­˜é¢æ¿

æ˜¾ç¤ºå†…å­˜å†…å®¹ï¼ˆå †ã€å…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ï¼‰

**æ˜¾ç¤ºæ ¼å¼**ï¼š
- **åœ°å€**ï¼š`0x0000`
- **åå…­è¿›åˆ¶**ï¼š`0x12345678`
- **åè¿›åˆ¶**ï¼š`305419896`

**æ“ä½œ**ï¼š
- **è·³è½¬**ï¼šè¾“å…¥åœ°å€è·³è½¬åˆ°æŒ‡å®šä½ç½®
- **æœç´¢**ï¼šæŸ¥æ‰¾ç‰¹å®šå€¼ï¼ˆå¾…å®ç°ï¼‰

#### 4. è°ƒç”¨æ ˆé¢æ¿

æ˜¾ç¤ºå‡½æ•°è°ƒç”¨æ ˆçš„å±‚æ¬¡ç»“æ„

**ä¿¡æ¯**ï¼š
- å‡½æ•°å
- è¿”å›åœ°å€
- å±€éƒ¨å˜é‡æ•°

**æ“ä½œ**ï¼š
- **åŒå‡»**ï¼šè·³è½¬åˆ°è¿”å›åœ°å€
- å±•å¼€/æŠ˜å ï¼šæŸ¥çœ‹å±€éƒ¨å˜é‡è¯¦æƒ…

#### 5. æ§åˆ¶é¢æ¿

æä¾›æ‰§è¡Œæ§åˆ¶æŒ‰é’®

**æŒ‰é’®åŠŸèƒ½**ï¼š
- â–¶ **å¼€å§‹æ‰§è¡Œ**ï¼šå¯åŠ¨è™šæ‹Ÿæœºæ‰§è¡Œ
- â¸ **æš‚åœ**ï¼šæš‚åœæ‰§è¡Œ
- â–¶ **ç»§ç»­**ï¼šä»æš‚åœå¤„ç»§ç»­æ‰§è¡Œ
- â¹ **åœæ­¢**ï¼šåœæ­¢æ‰§è¡Œå¹¶é‡ç½®çŠ¶æ€
- â­ **å•æ­¥æ‰§è¡Œ**ï¼šæ‰§è¡Œä¸€æ¡æŒ‡ä»¤
- â­â­ **å•æ­¥æ­¥è¿‡**ï¼šæ‰§è¡Œå‡½æ•°è°ƒç”¨ä½†ä¸è¿›å…¥
- â­â†— **å•æ­¥æ­¥å‡º**ï¼šæ‰§è¡Œåˆ°å½“å‰å‡½æ•°è¿”å›
- â­â— **è¿è¡Œåˆ°æ–­ç‚¹**ï¼šè¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹

#### 6. çŠ¶æ€é¢æ¿

æ˜¾ç¤ºæ‰§è¡Œç»Ÿè®¡å’ŒçŠ¶æ€ä¿¡æ¯

**ä¿¡æ¯**ï¼š
- å·²æ‰§è¡ŒæŒ‡ä»¤æ•°
- è¿è¡Œæ—¶é—´
- è™šæ‹ŸæœºçŠ¶æ€ï¼ˆè¿è¡Œä¸­ã€å·²æš‚åœã€å·²åœæ­¢ã€é”™è¯¯ï¼‰

## ğŸ”§ äº¤äº’å¼è°ƒè¯•

### æ‰§è¡Œæ§åˆ¶

#### è¿ç»­æ‰§è¡Œ

1. ç‚¹å‡» **â–¶ å¼€å§‹æ‰§è¡Œ** æŒ‰é’®
2. è™šæ‹Ÿæœºå°†è¿ç»­æ‰§è¡Œæ‰€æœ‰æŒ‡ä»¤
3. å¯ä»¥éšæ—¶ç‚¹å‡» **â¸ æš‚åœ** æŒ‰é’®ä¸­æ–­æ‰§è¡Œ

#### å•æ­¥æ‰§è¡Œ

**å•æ­¥è¿›å…¥ï¼ˆStep Intoï¼‰**ï¼š
- å¿«æ·é”®ï¼š`F11`
- åŠŸèƒ½ï¼šæ‰§è¡Œå½“å‰æŒ‡ä»¤ï¼Œå¦‚æœæ˜¯å‡½æ•°è°ƒç”¨åˆ™è¿›å…¥å‡½æ•°

**å•æ­¥æ­¥è¿‡ï¼ˆStep Overï¼‰**ï¼š
- å¿«æ·é”®ï¼š`Shift + F11`
- åŠŸèƒ½ï¼šæ‰§è¡Œå½“å‰æŒ‡ä»¤ï¼Œå¦‚æœæ˜¯å‡½æ•°è°ƒç”¨åˆ™ä¸è¿›å…¥

**å•æ­¥æ­¥å‡ºï¼ˆStep Outï¼‰**ï¼š
- å¿«æ·é”®ï¼š`Shift + F11`ï¼ˆè¿ç»­ï¼‰æˆ–ç‰¹å®šç»„åˆ
- åŠŸèƒ½ï¼šæ‰§è¡Œåˆ°å½“å‰å‡½æ•°è¿”å›

#### è¿è¡Œåˆ°æ–­ç‚¹

1. è®¾ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ–­ç‚¹
2. ç‚¹å‡» **â­â— è¿è¡Œåˆ°æ–­ç‚¹** æŒ‰é’®
3. è™šæ‹Ÿæœºå°†åœ¨ç¬¬ä¸€ä¸ªæ–­ç‚¹å¤„æš‚åœ

### æ–­ç‚¹ç®¡ç†

#### è®¾ç½®æ–­ç‚¹

**æ–¹æ³•1ï¼šé€šè¿‡ä»£ç é¢æ¿**
- åŒå‡»ä»£ç é¢æ¿ä¸­çš„æŒ‡ä»¤è¡Œ
- æˆ–è€…å³é”®é€‰æ‹© **åˆ‡æ¢æ–­ç‚¹**

**æ–¹æ³•2ï¼šé€šè¿‡è°ƒè¯•èœå•**
- ç‚¹å‡» **è°ƒè¯•(D) â†’ åˆ‡æ¢æ–­ç‚¹**ï¼Œå¿«æ·é”® `F9`

#### æ¸…é™¤æ–­ç‚¹

- å†æ¬¡åŒå‡»åŒä¸€æŒ‡ä»¤è¡Œ
- æˆ–è€…ä½¿ç”¨ **è°ƒè¯•(D) â†’ æ¸…é™¤æ‰€æœ‰æ–­ç‚¹**

#### æ¡ä»¶æ–­ç‚¹ï¼ˆå¾…å®ç°ï¼‰

```java
// é€šè¿‡ä»£ç è®¾ç½®æ¡ä»¶æ–­ç‚¹
VMRBreakpointManager breakpointManager = controller.getBreakpointManager();
breakpointManager.setConditionalBreakpoint(0x100, pc -> {
    int r1 = visualBridge.getRegister(1);
    return r1 > 100; // å½“ r1 > 100 æ—¶æ–­ç‚¹
});
```

### æ‰§è¡Œå†å²

#### æ’¤é”€æ“ä½œ

1. åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ’¤é”€ä¹‹å‰çš„æ“ä½œ
2. çŠ¶æ€å°†å›æ»šåˆ°ä¸Šä¸€ä¸ªå¿«ç…§

**æ³¨æ„**ï¼šæ’¤é”€åŠŸèƒ½éœ€è¦å…ˆä¿å­˜å†å²å¿«ç…§

#### é‡åšæ“ä½œ

1. æ’¤é”€åå¯ä»¥é‡åš
2. çŠ¶æ€å°†æ¢å¤åˆ°æ’¤é”€å‰çš„çŠ¶æ€

**å¿«æ·é”®**ï¼š
- æ’¤é”€ï¼š`Ctrl + Z`
- é‡åšï¼š`Ctrl + Y`

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

### å¯„å­˜å™¨ç›‘æ§

å®æ—¶ç›‘æ§æ‰€æœ‰ 16 ä¸ªå¯„å­˜å™¨çš„å€¼ï¼š

- **è§‚å¯Ÿå˜åŒ–**ï¼šå¯„å­˜å™¨å€¼å˜åŒ–æ—¶ç«‹å³æ›´æ–°
- **è¿½è¸ªä¿®æ”¹**ï¼šä¿®æ”¹è¿‡çš„å¯„å­˜å™¨ä¼šè¢«æ ‡è®°ï¼ˆé¢œè‰²ç¼–ç ï¼Œå¾…å®ç°ï¼‰

### å†…å­˜ç›‘æ§

ç›‘æ§å †ã€å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ï¼š

- **å®æ—¶æ›´æ–°**ï¼šå†…å­˜å†™å…¥æ—¶ç«‹å³åæ˜ 
- **åœ°å€è·³è½¬**ï¼šå¿«é€Ÿè·³è½¬åˆ°æŒ‡å®šåœ°å€
- **èŒƒå›´æŸ¥çœ‹**ï¼šæŸ¥çœ‹è¿ç»­å†…å­˜åŒºåŸŸ

### è°ƒç”¨æ ˆç›‘æ§

æŸ¥çœ‹å‡½æ•°è°ƒç”¨å±‚æ¬¡ï¼š

- **å½“å‰å‡½æ•°**ï¼šæ ˆé¡¶æ˜¾ç¤ºå½“å‰æ‰§è¡Œå‡½æ•°
- **è°ƒç”¨é“¾**ï¼šæŸ¥çœ‹å®Œæ•´çš„å‡½æ•°è°ƒç”¨å†å²
- **è¿”å›åœ°å€**ï¼šæ¯ä¸ªæ ˆå¸§æ˜¾ç¤ºè¿”å›åœ°å€

## ğŸ’¾ é…ç½®å’ŒæŒä¹…åŒ–

### é…ç½®æ–‡ä»¶

vizvmr ä½¿ç”¨ JSON æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼š

```json
{
  "window": {
    "width": 1200,
    "height": 800,
    "maximized": false,
    "position": {"x": 100, "y": 100}
  },
  "theme": "CLASSIC",
  "updateInterval": 100,
  "maxHistorySize": 1000,
  "breakpoints": [0x100, 0x200, 0x300],
  "showHexValues": true,
  "showDecimalValues": true,
  "showAsciiValues": false
}
```

**é…ç½®é¡¹è¯´æ˜**ï¼š

| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| window.width | int | 1200 | çª—å£å®½åº¦ |
| window.height | int | 800 | çª—å£é«˜åº¦ |
| window.maximized | boolean | false | æ˜¯å¦æœ€å¤§åŒ– |
| theme | String | "CLASSIC" | ä¸»é¢˜ï¼ˆCLASSIC, DARK, LIGHTï¼‰ |
| updateInterval | int | 100 | UIæ›´æ–°é—´éš”ï¼ˆæ¯«ç§’ï¼‰ |
| maxHistorySize | int | 1000 | æœ€å¤§å†å²å¿«ç…§æ•° |
| breakpoints | Set | [] | æ–­ç‚¹åœ°å€é›†åˆ |
| showHexValues | boolean | true | æ˜¾ç¤ºåå…­è¿›åˆ¶å€¼ |
| showDecimalValues | boolean | true | æ˜¾ç¤ºåè¿›åˆ¶å€¼ |
| showAsciiValues | boolean | false | æ˜¾ç¤ºASCIIå­—ç¬¦ |

### ä¿å­˜å’ŒåŠ è½½é…ç½®

**æ‰‹åŠ¨ä¿å­˜**ï¼š
1. ç‚¹å‡» **æ–‡ä»¶(F) â†’ ä¿å­˜é…ç½®**ï¼ˆå¾…å®ç°ï¼‰
2. é€‰æ‹©é…ç½®æ–‡ä»¶ä½ç½®

**è‡ªåŠ¨ä¿å­˜**ï¼š
- vizvmr åœ¨é€€å‡ºæ—¶è‡ªåŠ¨ä¿å­˜é…ç½®åˆ° `vizvmr-config.json`

**åŠ è½½é…ç½®**ï¼š
1. å¯åŠ¨ vizvmr æ—¶è‡ªåŠ¨åŠ è½½é…ç½®
2. æˆ–è€…é€šè¿‡ **æ–‡ä»¶(F) â†’ åŠ è½½é…ç½®** æ‰‹åŠ¨åŠ è½½

## ğŸ¯ é«˜çº§ä½¿ç”¨

### ç¼–ç¨‹æ–¹å¼ä½¿ç”¨ vizvmr

æ‚¨å¯ä»¥åœ¨è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨ vizvmr çš„ APIï¼š

```java
import org.teachfx.antlr4.ep18r.stackvm.config.VMConfig;
import org.teachfx.antlr4.ep18r.stackvm.interpreter.RegisterVMInterpreter;
import org.teachfx.antlr4.ep18r.vizvmr.core.VMRStateModel;
import org.teachfx.antlr4.ep18r.vizvmr.integration.VMRVisualBridge;
import org.teachfx.antlr4.ep18r.vizvmr.ui.MainFrame;

import javax.swing.*;

public class VizVMRExample {
    public static void main(String[] args) throws Exception {
        // 1. åˆ›å»ºè™šæ‹Ÿæœº
        VMConfig config = new VMConfig.Builder()
            .setHeapSize(1024 * 1024)  // 1MB å †
            .setStackSize(1024)           // 1024 æ ˆæ·±åº¦
            .setMaxExecutionSteps(100000)  // æœ€å¤š100Kæ­¥
            .build();
        RegisterVMInterpreter vm = new RegisterVMInterpreter(config);

        // 2. åˆ›å»ºçŠ¶æ€æ¨¡å‹
        VMRStateModel stateModel = new VMRStateModel(
            config.getHeapSize(),
            1024,  // å…¨å±€å˜é‡å¤§å°
            config.getMaxCallStackDepth()
        );

        // 3. åˆ›å»ºå¯è§†åŒ–æ¡¥æ¥å™¨
        VMRVisualBridge bridge = new VMRVisualBridge(vm, stateModel);

        // 4. åŠ è½½ä»£ç 
        try (FileInputStream fis = new FileInputStream("program.vm")) {
            boolean hasErrors = bridge.loadCode(fis);
            if (hasErrors) {
                System.err.println("ä»£ç åŠ è½½å¤±è´¥");
                return;
            }
        }

        // 5. åˆ›å»ºå¹¶æ˜¾ç¤ºä¸»çª—å£
        SwingUtilities.invokeLater(() -> {
            MainFrame mainFrame = new MainFrame(bridge);
            mainFrame.setVisible(true);
        });
    }
}
```

### è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬å™¨

```java
// åˆ›å»ºè‡ªå®šä¹‰çŠ¶æ€ç›‘å¬å™¨
VMRStateListener myListener = new VMRStateListener() {
    @Override
    public void registerChanged(RegisterChangeEvent event) {
        System.out.printf("å¯„å­˜å™¨ r%d ä» 0x%08X å˜ä¸º 0x%08X%n",
            event.getRegisterNumber(),
            event.getOldValue(),
            event.getNewValue());
    }

    @Override
    public void memoryChanged(MemoryChangeEvent event) {
        System.out.printf("å†…å­˜[0x%04X] ä» 0x%08X å˜ä¸º 0x%08X%n",
            event.getAddress(),
            event.getOldValue(),
            event.getNewValue());
    }

    @Override
    public void pcChanged(PCChangeEvent event) {
        System.out.printf("PC ä» 0x%04X è·³è½¬åˆ° 0x%04X%n",
            event.getOldPC(),
            event.getNewPC());
    }
};

// æ³¨å†Œç›‘å¬å™¨
stateModel.addStateListener(myListener);
```

### è‡ªå®šä¹‰æ‰§è¡Œæ§åˆ¶å™¨

```java
// åˆ›å»ºæ§åˆ¶å™¨
VMRStepController controller = new VMRStepController(bridge);

// å•æ­¥æ‰§è¡Œ
controller.stepInto();

// æ­¥è¿‡å‡½æ•°è°ƒç”¨
controller.stepOver();

// æ­¥å‡ºå½“å‰å‡½æ•°
controller.stepOut();

// è¿è¡Œåˆ°æŒ‡å®šåœ°å€
controller.runToPC(0x100);

// ç»§ç»­æ‰§è¡Œ
controller.continueExecution();
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ä»£ç åŠ è½½å¤±è´¥

**ç—‡çŠ¶**ï¼šæ‰“å¼€ä»£ç æ–‡ä»¶æ—¶æŠ¥é”™

**å¯èƒ½åŸå› **ï¼š
- æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®
- è¯­æ³•é”™è¯¯
- ç¬¦å·æœªå®šä¹‰

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥æ–‡ä»¶æ ¼å¼ï¼Œç¡®ä¿æ˜¯ `.vm` æˆ– `.vmr` æ–‡ä»¶
2. ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ£€æŸ¥è¯­æ³•é”™è¯¯
3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯

#### 2. æ‰§è¡Œå¡æ­»

**ç—‡çŠ¶**ï¼šæ‰§è¡Œæ—¶ç•Œé¢æ— å“åº”

**å¯èƒ½åŸå› **ï¼š
- æ— é™å¾ªç¯
- æœ€å¤§æ‰§è¡Œæ­¥æ•°é™åˆ¶

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰æ— é™å¾ªç¯
2. è°ƒæ•´æœ€å¤§æ‰§è¡Œæ­¥æ•°é…ç½®
3. ä½¿ç”¨æ–­ç‚¹è¿›è¡Œåˆ†æ®µè°ƒè¯•

#### 3. å†…å­˜æº¢å‡º

**ç—‡çŠ¶**ï¼šæ˜¾ç¤º "Heap overflow" é”™è¯¯

**å¯èƒ½åŸå› **ï¼š
- å †ç©ºé—´ä¸è¶³
- å†…å­˜æ³„æ¼

**è§£å†³æ–¹æ³•**ï¼š
1. å¢åŠ  VMConfig ä¸­çš„å †å¤§å°
2. æ£€æŸ¥ä»£ç ä¸­çš„å†…å­˜åˆ†é…
3. æ£€æŸ¥æ˜¯å¦æœ‰å†…å­˜æ³„æ¼

#### 4. GUI æ›´æ–°ç¼“æ…¢

**ç—‡çŠ¶**ï¼šç•Œé¢å“åº”è¿Ÿç¼“

**å¯èƒ½åŸå› **ï¼š
- æ›´æ–°é¢‘ç‡è¿‡é«˜
- å¤§é‡äº‹ä»¶é€šçŸ¥

**è§£å†³æ–¹æ³•**ï¼š
1. å¢åŠ é…ç½®ä¸­çš„ `updateInterval`
2. å¯ç”¨æ‰¹å¤„ç†æ›´æ–°
3. å‡å°‘ä¸å¿…è¦çš„äº‹ä»¶ç›‘å¬å™¨

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **é™åˆ¶å†å²è®°å½•å¤§å°**ï¼š
   ```java
   VMRStateModel stateModel = new VMRStateModel(...);
   // å‡å°‘æœ€å¤§å†å²è®°å½•å¯ä»¥èŠ‚çœå†…å­˜
   history = new VMRExecutionHistory(500);  // é»˜è®¤1000
   ```

2. **å¯ç”¨æ‰¹å¤„ç†æ›´æ–°**ï¼š
   ```java
   // æ‰¹é‡æ›´æ–°å¤šä¸ªå¯„å­˜å™¨
   stateModel.enableBatchUpdates(true);
   for (int i = 0; i < 16; i++) {
       stateModel.setRegister(i, values[i]);
   }
   stateModel.enableBatchUpdates(false);  // ä¸€æ¬¡æ€§è§¦å‘äº‹ä»¶
   ```

3. **è°ƒæ•´æ›´æ–°é¢‘ç‡**ï¼š
   ```json
   {
     "updateInterval": 200  // é»˜è®¤100msï¼Œæ”¹ä¸º200ms
   }
   ```

## ğŸ“š å­¦ä¹ èµ„æº

### æ•™ç¨‹

1. **åŸºç¡€æ•™ç¨‹**ï¼šå¦‚ä½•ä½¿ç”¨åŸºæœ¬åŠŸèƒ½
2. **è°ƒè¯•æ•™ç¨‹**ï¼šå¦‚ä½•è®¾ç½®æ–­ç‚¹å’Œä½¿ç”¨å•æ­¥æ‰§è¡Œ
3. **é«˜çº§æ•™ç¨‹**ï¼šè‡ªå®šä¹‰ç›‘å¬å™¨å’Œæ§åˆ¶å™¨

### ç¤ºä¾‹ç¨‹åº

- `factorial.vm` - é˜¶ä¹˜è®¡ç®—
- `fibonacci.vm` - æ–æ³¢é‚£å¥‘æ•°åˆ—
- `array_ops.vm` - æ•°ç»„æ“ä½œç¤ºä¾‹

### API æ–‡æ¡£

è¯¦ç»†çš„ API å‚è€ƒï¼Œè¯·å‚è§ï¼š
- [API.md](API.md) - å®Œæ•´ API æ–‡æ¡£
- [DESIGN.md](DESIGN.md) - æ¶æ„è®¾è®¡æ–‡æ¡£
- [TESTING.md](TESTING.md) - æµ‹è¯•è§„èŒƒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœæ‚¨å‘ç° bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œæ¬¢è¿è´¡çŒ®ï¼š

1. **æŠ¥å‘Šé—®é¢˜**ï¼šåœ¨ GitHub ä¸Šæäº¤ issue
2. **æäº¤ä»£ç **ï¼šåˆ›å»º pull request
3. **æ”¹è¿›æ–‡æ¡£**ï¼šä¿®æ­£æˆ–è¡¥å……æ–‡æ¡£

## ğŸ“ æ”¯æŒå’Œåé¦ˆ

- **Email**: support@example.com
- **GitHub**: https://github.com/example/vizvmr
- **æ–‡æ¡£**: https://example.com/docs/vizvmr

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-14  
**æœ€åæ›´æ–°**: 2026-01-14  
**ç»´æŠ¤è€…**: EP18Rå¼€å‘å›¢é˜Ÿ
