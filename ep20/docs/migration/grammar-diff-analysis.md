# EP19到EP20语法差异分析报告

## 概述
本文档详细分析了EP19和EP20的语法支持差异，为从EP19迁移到EP20提供基础数据。

## 语法对比分析

### EP19支持的语法特性（EP20缺失）
| 语法特性 | EP19支持 | EP20支持 | 备注 |
|---------|----------|----------|------|
| **结构体声明** | ✅ | ❌ | struct关键字和结构体定义 |
| **typedef声明** | ✅ | ❌ | 类型别名定义 |
| **数组声明** | ✅ | ❌ | int arr[5]形式的数组 |
| **方法成员** | ✅ | ❌ | 结构体中的方法定义 |
| **结构体方法调用** | ✅ | ❌ | obj.method()形式 |
| **结构体字段访问** | ✅ | ❌ | obj.field形式 |
| **数组访问** | ✅ | ❌ | arr[index]形式 |
| **对象创建** | ✅ | ❌ | new Point()形式 |
| **逻辑与运算符** | ✅ | ❌ | &&运算符 |
| **取模运算符** | ✅ | ❌ | %运算符 |
| **break语句** | ❌ | ✅ | EP20新增 |
| **continue语句** | ❌ | ✅ | EP20新增 |

### 词法差异
| 项目 | EP19 | EP20 |
|------|------|------|
| **字符串字面量** | String | string |
| **对象类型** | Object | object |
| **ID定义** | [_a-zA-Z][_a-zA-Z0-9]* | LETTER(LETTER\|[0-9])* |
| **关键字大小写** | 区分大小写 | 区分大小写 |

### 语法规则差异
1. **文件结构**：
   - EP19: 支持structDecl, typedefDecl, functionDecl, varDecl, statement
   - EP20: 仅支持functionDecl, varDecl

2. **类型系统**：
   - EP19: 支持primaryType和ID（自定义类型）
   - EP20: 仅支持primaryType

3. **表达式**：
   - EP19: 支持丰富的表达式类型，包括结构体操作
   - EP20: 基础表达式，缺少结构体和数组操作

## 迁移复杂度评估
- **高复杂度**：结构体相关语法（struct, 方法, 字段访问）
- **中复杂度**：数组语法和typedef
- **低复杂度**：运算符和基础表达式

## 迁移优先级
1. 基础表达式和运算符（&&, %）
2. 数组语法
3. typedef语法
4. 结构体语法